<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>APEX GAMES ‚Äî The Apex of Web3 Gaming</title>

  <!-- Futuristic font (igual vibe das imagens) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <style>
    :root{
      --bg:#070A0F;
      --panel:#0D111A;
      --card:#0E1420;
      --stroke:rgba(120,160,255,.18);
      --stroke2:rgba(0,220,255,.18);
      --txt:#EAF2FF;
      --muted:rgba(234,242,255,.68);
      --blue:#2C6BFF;
      --cyan:#00E0FF;
      --green:#16C784;
      --red:#FF4D4D;
      --orange:#FFB020;
      --shadow:0 18px 60px rgba(0,0,0,.55);
      --radius:18px;
      --radius2:26px;
      --glass:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      --glass2:linear-gradient(180deg, rgba(44,107,255,.24), rgba(0,224,255,.02));
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(1100px 600px at 30% -10%, rgba(44,107,255,.25), transparent 60%),
        radial-gradient(900px 520px at 90% 10%, rgba(0,224,255,.12), transparent 55%),
        radial-gradient(900px 520px at 60% 90%, rgba(255,255,255,.06), transparent 60%),
        var(--bg);
      color:var(--txt);
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow-x:hidden;
    }

    a{color:inherit;text-decoration:none}
    .wrap{max-width:1080px;margin:0 auto;padding:0 18px}
    .glow-line{
      height:1px;
      background:linear-gradient(90deg, transparent, rgba(44,107,255,.55), rgba(0,224,255,.35), transparent);
      margin:22px 0;
      opacity:.85;
    }

    /* Topbar */
    .topbar{
      position:sticky;top:0;z-index:40;
      background:rgba(6,9,14,.72);
      backdrop-filter:blur(14px);
      border-bottom:1px solid rgba(120,160,255,.12);
    }
    .topbar-inner{
      display:flex;align-items:center;justify-content:space-between;
      padding:14px 0;
    }
    .brand{
      display:flex;align-items:center;gap:12px;
      font-family:Orbitron, sans-serif;
      letter-spacing:.8px;
      font-weight:800;
    }
    .brand-badge{
      width:40px;height:40px;border-radius:12px;
      background:linear-gradient(135deg, rgba(44,107,255,.9), rgba(0,224,255,.18));
      box-shadow:0 10px 30px rgba(44,107,255,.25);
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.14);
    }
    .brand-badge svg{filter:drop-shadow(0 6px 18px rgba(0,224,255,.18))}
    .brand-name{
      font-size:18px;
    }
    .menu-btn{
      width:46px;height:46px;border-radius:14px;
      border:1px solid rgba(120,160,255,.18);
      background:rgba(255,255,255,.04);
      display:grid;place-items:center;
      cursor:pointer;
    }
    .menu-btn:active{transform:scale(.98)}
    .drawer{
      position:fixed;inset:0;
      background:rgba(0,0,0,.62);
      display:none;
      z-index:80;
    }
    .drawer.open{display:block}
    .drawer-panel{
      position:absolute;right:0;top:0;height:100%;width:min(92vw, 360px);
      background:rgba(12,16,24,.92);
      backdrop-filter:blur(18px);
      border-left:1px solid rgba(120,160,255,.14);
      padding:18px;
      box-shadow:var(--shadow);
      transform:translateX(0);
    }
    .drawer h3{
      font-family:Orbitron, sans-serif;
      margin:8px 0 14px;
      font-size:16px;
      letter-spacing:.6px;
    }
    .nav a{
      display:flex;justify-content:space-between;align-items:center;
      padding:12px 12px;border-radius:14px;
      border:1px solid rgba(120,160,255,.12);
      background:rgba(255,255,255,.03);
      margin-bottom:10px;
    }
    .nav a span{color:var(--muted);font-size:13px}
    .nav a:hover{border-color:rgba(44,107,255,.32)}
    .drawer-close{
      display:flex;justify-content:flex-end;
    }
    .xbtn{
      width:42px;height:42px;border-radius:14px;
      border:1px solid rgba(120,160,255,.18);
      background:rgba(255,255,255,.04);
      cursor:pointer;
      display:grid;place-items:center;
    }

    /* Hero */
    .hero{
      padding:26px 0 18px;
    }
    .chip{
      display:inline-flex;align-items:center;gap:10px;
      padding:8px 12px;border-radius:999px;
      border:1px solid rgba(120,160,255,.16);
      background:rgba(255,255,255,.04);
      color:var(--muted);
      font-weight:600;
      font-size:12px;
    }
    .chip i{
      width:8px;height:8px;border-radius:999px;background:var(--green);
      box-shadow:0 0 0 6px rgba(22,199,132,.14);
    }
    .hero-grid{
      display:grid;grid-template-columns:1.2fr .8fr;gap:18px;
      align-items:stretch;
      margin-top:16px;
    }
    @media (max-width: 900px){
      .hero-grid{grid-template-columns:1fr}
    }
    .hero-card{
      border-radius:var(--radius2);
      border:1px solid rgba(120,160,255,.14);
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow:var(--shadow);
      overflow:hidden;
      position:relative;
      padding:22px;
    }
    .hero-title{
      font-family:Orbitron, sans-serif;
      font-size:42px;
      line-height:1.05;
      margin:10px 0 10px;
      letter-spacing:1px;
    }
    .hero-title b{color:#8CC8FF}
    @media (max-width: 520px){
      .hero-title{font-size:34px}
    }
    .hero-text{
      color:var(--muted);
      font-size:15px;
      line-height:1.7;
      max-width:58ch;
    }
    .cta-row{
      display:flex;gap:12px;flex-wrap:wrap;
      margin-top:16px;
    }
    .btn{
      padding:14px 16px;border-radius:16px;
      border:1px solid rgba(120,160,255,.18);
      background:rgba(255,255,255,.04);
      color:var(--txt);
      font-weight:800;
      font-family:Orbitron, sans-serif;
      letter-spacing:.6px;
      cursor:pointer;
      user-select:none;
      display:inline-flex;align-items:center;justify-content:center;
      min-width:150px;
      transition:.18s ease;
    }
    .btn:hover{transform:translateY(-1px);border-color:rgba(44,107,255,.35)}
    .btn.primary{
      background:linear-gradient(135deg, rgba(44,107,255,.95), rgba(44,107,255,.55));
      border-color:rgba(44,107,255,.55);
      box-shadow:0 16px 40px rgba(44,107,255,.18);
    }
    .btn.ghost{
      background:rgba(255,255,255,.03);
    }
    .contract-box{
      margin-top:14px;
      border-radius:16px;
      border:1px solid rgba(120,160,255,.14);
      background:rgba(255,255,255,.03);
      padding:14px 14px;
      display:flex;align-items:center;justify-content:space-between;gap:12px;
    }
    .contract-box small{
      display:block;color:rgba(234,242,255,.52);
      font-family:Orbitron, sans-serif;
      letter-spacing:.7px;
      font-size:11px;
      margin-bottom:6px;
    }
    .addr{
      font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      color:rgba(234,242,255,.85);
      font-size:12.5px;
      word-break:break-all;
    }
    .copy{
      width:44px;height:44px;border-radius:14px;
      border:1px solid rgba(120,160,255,.18);
      background:rgba(255,255,255,.04);
      cursor:pointer;
      display:grid;place-items:center;
    }

    /* Side panel: Wallet + Dashboard */
    .side-card{
      padding:18px;
    }
    .side-head{
      display:flex;justify-content:space-between;align-items:center;gap:10px;
    }
    .wallet-chip{
      display:flex;align-items:center;gap:10px;
      padding:10px 12px;border-radius:16px;
      border:1px solid rgba(120,160,255,.14);
      background:rgba(255,255,255,.03);
      width:100%;
    }
    .avatar{
      width:34px;height:34px;border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      box-shadow:0 14px 40px rgba(0,0,0,.35);
      flex:0 0 auto;
    }
    .wallet-meta{min-width:0}
    .wallet-meta b{
      display:block;
      font-family:Orbitron, sans-serif;
      letter-spacing:.6px;
      font-size:12px;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
      max-width:180px;
    }
    .wallet-meta span{display:block;color:var(--muted);font-size:12px}
    .drop{
      position:relative;
      flex:0 0 auto;
    }
    .dropbtn{
      width:38px;height:38px;border-radius:14px;
      border:1px solid rgba(120,160,255,.18);
      background:rgba(255,255,255,.04);
      cursor:pointer;
      display:grid;place-items:center;
    }
    .dropmenu{
      position:absolute;right:0;top:44px;
      width:180px;
      border-radius:16px;
      border:1px solid rgba(120,160,255,.14);
      background:rgba(10,14,20,.94);
      backdrop-filter:blur(16px);
      box-shadow:var(--shadow);
      padding:8px;
      display:none;
      z-index:10;
    }
    .dropmenu button{
      width:100%;
      border:1px solid rgba(120,160,255,.12);
      background:rgba(255,255,255,.03);
      color:var(--txt);
      padding:10px 10px;
      border-radius:14px;
      cursor:pointer;
      font-weight:700;
    }
    .dropmenu button:hover{border-color:rgba(44,107,255,.35)}
    .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .badge{
      font-size:11px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(120,160,255,.16);
      background:rgba(255,255,255,.04);
      color:rgba(234,242,255,.8);
      font-weight:800;
      font-family:Orbitron, sans-serif;
      letter-spacing:.55px;
    }
    .badge.ok{border-color:rgba(22,199,132,.35); background:rgba(22,199,132,.08)}
    .badge.warn{border-color:rgba(255,176,32,.35); background:rgba(255,176,32,.10)}
    .badge.blue{border-color:rgba(44,107,255,.45); background:rgba(44,107,255,.12)}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px}
    .mini{
      border-radius:16px;
      border:1px solid rgba(120,160,255,.14);
      background:rgba(255,255,255,.03);
      padding:12px;
    }
    .mini small{color:rgba(234,242,255,.56);display:block;margin-bottom:6px}
    .mini b{
      font-family:Orbitron, sans-serif;
      letter-spacing:.8px;
      font-size:16px;
    }

    .action-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .action-row .btn{min-width:auto;flex:1}
    .btn.small{padding:12px 12px;border-radius:14px;font-size:12px}

    .status{
      margin-top:10px;
      color:var(--muted);
      font-size:12px;
      line-height:1.5;
    }
    .status strong{color:rgba(234,242,255,.9)}
    .sep{height:1px;background:rgba(120,160,255,.12);margin:14px 0}

    /* Sections */
    section{padding:12px 0}
    .section-title{
      font-family:Orbitron, sans-serif;
      letter-spacing:1px;
      font-weight:900;
      font-size:34px;
      text-align:center;
      margin:18px 0 16px;
    }
    .section-title .bar{
      display:block;
      width:92px;height:4px;border-radius:999px;
      margin:12px auto 0;
      background:linear-gradient(90deg, rgba(44,107,255,.95), rgba(0,224,255,.55));
    }
    .cards{
      display:grid;grid-template-columns:repeat(3, 1fr);
      gap:14px;
    }
    @media (max-width: 900px){ .cards{grid-template-columns:1fr} }
    .info-card{
      border-radius:var(--radius2);
      border:1px solid rgba(120,160,255,.14);
      background:rgba(255,255,255,.03);
      padding:18px;
      box-shadow:0 20px 60px rgba(0,0,0,.28);
      position:relative;
      overflow:hidden;
    }
    .info-card:before{
      content:"";
      position:absolute;inset:-80px -80px auto auto;
      width:170px;height:170px;border-radius:50%;
      background:radial-gradient(circle at 30% 30%, rgba(44,107,255,.35), transparent 60%);
      opacity:.8;
    }
    .info-card h4{
      margin:0 0 10px;
      font-family:Orbitron, sans-serif;
      letter-spacing:.8px;
      font-size:14px;
      color:rgba(234,242,255,.82);
    }
    .info-card b{
      display:block;
      font-family:Orbitron, sans-serif;
      letter-spacing:1px;
      font-size:26px;
      margin-top:4px;
    }
    .info-card p{margin:10px 0 0;color:var(--muted);line-height:1.65;font-size:14px}

    .big-card{
      border-radius:var(--radius2);
      border:1px solid rgba(120,160,255,.14);
      background:rgba(255,255,255,.03);
      padding:18px;
      box-shadow:var(--shadow);
    }
    .two{
      display:grid;grid-template-columns:1fr 1fr;gap:14px;
    }
    @media (max-width: 900px){ .two{grid-template-columns:1fr} }

    /* Roadmap */
    .phase{
      border-radius:var(--radius2);
      border:1px solid rgba(120,160,255,.14);
      background:rgba(255,255,255,.03);
      padding:18px;
      position:relative;
      overflow:hidden;
    }
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 12px;border-radius:999px;
      border:1px solid rgba(120,160,255,.16);
      background:rgba(255,255,255,.03);
      color:rgba(234,242,255,.74);
      font-weight:800;
      font-size:11px;
      font-family:Orbitron, sans-serif;
      letter-spacing:.6px;
    }
    .pill.green{border-color:rgba(22,199,132,.35);background:rgba(22,199,132,.10)}
    .pill.blue{border-color:rgba(44,107,255,.45);background:rgba(44,107,255,.12)}
    .phase h3{
      margin:12px 0 6px;
      font-family:Orbitron, sans-serif;
      letter-spacing:1px;
      font-size:26px;
    }
    .phase h3 span{color:#8CC8FF}
    .phase ul{margin:10px 0 0;padding-left:18px;color:var(--muted);line-height:1.8}
    .phase li{margin:6px 0}

    /* Footer */
    footer{
      padding:26px 0 40px;
      color:rgba(234,242,255,.55);
    }
    .footer-grid{
      display:grid;grid-template-columns:1fr 1fr;gap:14px;
    }
    @media (max-width: 900px){ .footer-grid{grid-template-columns:1fr} }
    .footer-list a{
      display:block;
      padding:10px 0;
      color:rgba(234,242,255,.62);
    }
    .footer-list a:hover{color:rgba(234,242,255,.88)}
    .copyright{
      text-align:center;
      padding-top:16px;
      border-top:1px solid rgba(120,160,255,.10);
      margin-top:18px;
      font-family:Orbitron, sans-serif;
      letter-spacing:.7px;
      font-size:12px;
    }

    /* Floating Dashboard Button (igual √≠cone do gamepad nas prints) */
    .float{
      position:fixed;right:16px;bottom:18px;z-index:70;
      width:66px;height:66px;border-radius:22px;
      border:1px solid rgba(120,160,255,.18);
      background:rgba(12,16,24,.75);
      backdrop-filter:blur(14px);
      box-shadow:0 22px 60px rgba(0,0,0,.55);
      display:grid;place-items:center;
      cursor:pointer;
      transition:.18s ease;
    }
    .float:hover{transform:translateY(-2px);border-color:rgba(44,107,255,.38)}
    .dash-modal{
      position:fixed;inset:0;z-index:90;
      background:rgba(0,0,0,.62);
      display:none;
      padding:16px;
    }
    .dash-modal.open{display:flex;align-items:flex-end;justify-content:center}
    .dash-panel{
      width:min(980px, 100%);
      max-height:88vh;
      overflow:auto;
      border-radius:28px;
      border:1px solid rgba(120,160,255,.16);
      background:rgba(10,14,20,.92);
      backdrop-filter:blur(18px);
      box-shadow:var(--shadow);
      padding:16px;
    }
    .dash-head{
      display:flex;justify-content:space-between;align-items:center;gap:12px;
      padding:6px 6px 12px;
    }
    .dash-head h2{
      margin:0;
      font-family:Orbitron, sans-serif;
      letter-spacing:1px;
      font-size:16px;
    }

    .dash-grid{
      display:grid;grid-template-columns:1fr 1fr;gap:14px;
    }
    @media(max-width:900px){
      .dash-modal.open{align-items:stretch}
      .dash-panel{max-height:100%;border-radius:22px}
      .dash-grid{grid-template-columns:1fr}
    }
    .hint{
      font-size:12px;color:rgba(234,242,255,.62);line-height:1.5
    }
    .toast{
      position:fixed;left:50%;transform:translateX(-50%);
      bottom:92px;
      background:rgba(10,14,20,.9);
      border:1px solid rgba(120,160,255,.16);
      padding:10px 14px;border-radius:14px;
      color:rgba(234,242,255,.9);
      box-shadow:var(--shadow);
      display:none;
      z-index:120;
      font-size:12px;
    }
    .toast.show{display:block}
    .mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace}
  </style>
</head>

<body>

  <!-- Drawer -->
  <div class="drawer" id="drawer" onclick="if(event.target.id==='drawer') toggleDrawer(false)">
    <div class="drawer-panel">
      <div class="drawer-close">
        <button class="xbtn" onclick="toggleDrawer(false)" aria-label="Close">
          ‚úï
        </button>
      </div>
      <h3>Menu</h3>
      <div class="nav">
        <a href="#tokenomics" onclick="toggleDrawer(false)">Tokenomics <span>Supply / Fees</span></a>
        <a href="#roadmap" onclick="toggleDrawer(false)">Roadmap <span>Phases</span></a>
        <a href="#advisor" onclick="toggleDrawer(false)">Apex Advisor <span>AI panel</span></a>
        <a href="#links" onclick="toggleDrawer(false)">Links <span>Social / Docs</span></a>
      </div>
      <div class="sep"></div>
      <div class="hint">
        Dica: o bot√£o flutuante üéÆ abre o <b>Dashboard do Holder</b> (wallet, saldo, reward, staking).
      </div>
    </div>
  </div>

  <!-- Topbar -->
  <div class="topbar">
    <div class="wrap">
      <div class="topbar-inner">
        <div class="brand">
          <div class="brand-badge" aria-hidden="true">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="M13 2L3 14h7l-1 8 12-14h-7l-1-6z" fill="white" opacity=".95"/>
            </svg>
          </div>
          <div class="brand-name">APEX GAMES</div>
        </div>

        <button class="menu-btn" onclick="toggleDrawer(true)" aria-label="Open menu">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M4 7h16M4 12h16M4 17h16" stroke="white" stroke-opacity=".9" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Hero -->
  <div class="wrap hero">
    <div class="hero-grid">

      <div class="hero-card">
        <div class="chip"><i></i> LIVE ON CHAIN</div>
        <div class="hero-title">THE APEX OF<br><b>WEB3 GAMING</b></div>
        <div class="hero-text">
          Experience the true power of hyper-deflationary tokenomics.
          <b> Apex Games Token (APEX)</b> fuels a high-speed ecosystem where rewards,
          staking and holder analytics are fully integrated.
        </div>

        <div class="cta-row">
          <a class="btn primary" id="btnBuy" href="#" target="_blank" rel="noreferrer">BUY $APT</a>
          <a class="btn ghost" href="#links">WHITEPAPER</a>
        </div>

        <div class="contract-box">
          <div>
            <small>CONTRACT ADDRESS</small>
            <div class="addr" id="tokenAddrText"></div>
          </div>
          <button class="copy" onclick="copyToken()" aria-label="Copy contract">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M9 9h10v10H9V9z" stroke="white" stroke-opacity=".9" stroke-width="2" />
              <path d="M5 15H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1" stroke="white" stroke-opacity=".55" stroke-width="2"/>
            </svg>
          </button>
        </div>

        <div class="status" style="margin-top:12px">
          <strong>Dashboard do Holder</strong> (wallet + reward + staking) fica no bot√£o üéÆ no canto.
        </div>
      </div>

      <div class="hero-card side-card">
        <div class="side-head">
          <div style="display:flex;flex-direction:column;gap:6px">
            <div style="font-family:Orbitron,sans-serif;letter-spacing:.7px;font-weight:900">APEX HOLDER PANEL</div>
              <div class="hint">Connect Wallet universal (Injected). Se n√£o tiver carteira, use um navegador com carteira.</div>
          </div>
        </div>

        <div class="sep"></div>

        <div id="walletNotConnected">
          <button class="btn primary" style="width:100%" onclick="connectWallet()">CONNECT WALLET</button>
          <div class="status">
            Se aparecer ‚ÄúInstall MetaMask‚Äù, n√£o √© bug: seu navegador n√£o tem provider.
            Use <b>TrustWallet</b>, <b>MetaMask</b> ou <b>OKX Wallet</b> no navegador.
          </div>
        </div>

        <div id="walletConnected" style="display:none">
          <div class="wallet-chip">
            <div class="avatar" id="avatar"></div>
            <div class="wallet-meta">
              <b id="addrShort">‚Äî</b>
              <span id="netName">Network: ‚Äî</span>
            </div>
            <div class="drop">
              <button class="dropbtn" onclick="toggleDrop(event)">‚ãØ</button>
              <div class="dropmenu" id="dropmenu">
                <button onclick="disconnect()">Disconnect</button>
              </div>
            </div>
          </div>

          <div class="badges" id="badges"></div>

          <div class="grid2">
            <div class="mini">
              <small>BNB Balance</small>
              <b id="bnbBal">‚Äî</b>
            </div>
            <div class="mini">
              <small>APEX Balance</small>
              <b id="apexBal">‚Äî</b>
            </div>
          </div>

          <div class="grid2">
            <div class="mini">
              <small>APEX/USDT (Pancake)</small>
              <b id="apexPrice">‚Äî</b>
            </div>
            <div class="mini">
              <small>Reward Pool</small>
              <b id="poolLeft">‚Äî</b>
            </div>
          </div>

          <div class="grid2">
            <div class="mini">
              <small>Next Claim</small>
              <b id="countdown">‚Äî</b>
            </div>
            <div class="mini">
              <small>Streak</small>
              <b><span id="streak">0</span> days</b>
            </div>
          </div>

          <div class="action-row">
            <button class="btn primary small" onclick="claimReward()">üî• CLAIM</button>
            <button class="btn small" onclick="refreshAll()">‚Üª REFRESH</button>
          </div>

          <div class="status" id="rewardStatus">Status: pronto.</div>
        </div>
      </div>
    </div>

    <div class="glow-line"></div>
  </div>

  <!-- Tokenomics -->
  <div class="wrap">
    <section id="tokenomics">
      <div class="section-title">TOKENOMICS <span class="bar"></span></div>

      <div class="cards">
        <div class="info-card">
          <h4>NAME</h4>
          <b>Apex Token</b>
          <p>Gaming utility token powering rewards, staking and ecosystem growth.</p>
        </div>
        <div class="info-card">
          <h4>SYMBOL</h4>
          <b>APT</b>
          <p>Default ticker used across the UI and PancakeSwap buy link.</p>
        </div>
        <div class="info-card">
          <h4>TOTAL SUPPLY</h4>
          <b id="totalSupply">‚Äî</b>
          <p>Total supply pulled on-chain from the token contract.</p>
        </div>
      </div>

      <div class="two" style="margin-top:14px">
        <div class="big-card">
          <div style="display:flex;align-items:center;gap:10px">
            <div style="width:42px;height:42px;border-radius:16px;background:rgba(255,77,77,.10);border:1px solid rgba(255,77,77,.28);display:grid;place-items:center">üî•</div>
            <div>
              <div style="font-family:Orbitron,sans-serif;letter-spacing:1px;font-weight:900">BURN MECHANISM</div>
              <div class="hint">Every transaction burns a percentage (if enabled in token). Supply decreases, value potential increases.</div>
            </div>
          </div>
        </div>

        <div class="big-card">
          <div style="display:flex;align-items:center;gap:10px">
            <div style="width:42px;height:42px;border-radius:16px;background:rgba(44,107,255,.12);border:1px solid rgba(44,107,255,.32);display:grid;place-items:center">üìà</div>
            <div>
              <div style="font-family:Orbitron,sans-serif;letter-spacing:1px;font-weight:900">MARKETING TAX</div>
              <div class="hint">Fee allocated to growth & partnerships (if enabled in token).</div>
            </div>
          </div>
        </div>
      </div>

      <div class="two" style="margin-top:14px">
        <div class="big-card">
          <div style="font-family:Orbitron,sans-serif;letter-spacing:1px;font-weight:900;margin-bottom:10px">FEE DISTRIBUTION ANALYSIS</div>
          <canvas id="feeChart" height="240"></canvas>
          <div class="hint" style="margin-top:10px">
            Este gr√°fico √© visual (vibe CoinMarketCap). Se voc√™ quiser, d√° para puxar dados reais do contrato (tax/burn) quando existir ABI.
          </div>
        </div>

        <div class="big-card">
          <div style="font-family:Orbitron,sans-serif;letter-spacing:1px;font-weight:900;margin-bottom:10px">SUPPLY CHART</div>
          <canvas id="supplyChart" height="240"></canvas>
          <div class="hint" style="margin-top:10px">
            Supply puxado do contrato APEX (on-chain). Se o token tiver burn real, aqui voc√™ enxerga a tend√™ncia.
          </div>
        </div>
      </div>
    </section>

    <div class="glow-line"></div>

    <!-- Roadmap -->
    <section id="roadmap">
      <div class="section-title">ROADMAP <span class="bar"></span></div>

      <div class="two">
        <div class="phase">
          <div class="pill green">COMPLETED</div>
          <h3><span>Phase 1</span><br/>Genesis</h3>
          <ul>
            <li>Contract Deployment</li>
            <li>Initial Supply Audit</li>
            <li>Community Launch</li>
            <li>Whitepaper v1</li>
          </ul>
        </div>

        <div class="phase">
          <div class="pill blue">ONGOING</div>
          <h3><span>Phase 2</span><br/>Expansion</h3>
          <ul>
            <li>CoinGecko/CMC Listing</li>
            <li>Influencer Partnerships</li>
            <li>Marketing Campaign Launch</li>
            <li>First Game Integration</li>
          </ul>
        </div>
      </div>

      <div class="two" style="margin-top:14px">
        <div class="phase">
          <div class="pill">UPCOMING</div>
          <h3><span>Phase 3</span><br/>Apex Ecosystem</h3>
          <ul>
            <li>Apex NFT Marketplace</li>
            <li>Staking Dashboard</li>
            <li>Mobile Game Beta</li>
            <li>Strategic DAO Setup</li>
          </ul>
        </div>

        <div class="phase">
          <div class="pill">UPCOMING</div>
          <h3><span>Phase 4</span><br/>Universal Dominance</h3>
          <ul>
            <li>Cross-chain Bridge</li>
            <li>Major Tier 1 CEX Listing</li>
            <li>Apex Global eSports Tournament</li>
            <li>Full Metaverse Integration</li>
          </ul>
        </div>
      </div>
    </section>

    <div class="glow-line"></div>

    <!-- Advisor -->
    <section id="advisor">
      <div class="section-title">APEX ADVISOR AI <span class="bar"></span></div>

      <div class="big-card">
        <div style="border-radius:22px;overflow:hidden;border:1px solid rgba(120,160,255,.14)">
          <div style="padding:16px;background:linear-gradient(135deg, rgba(44,107,255,.95), rgba(0,224,255,.10));display:flex;align-items:center;justify-content:space-between">
            <div style="display:flex;align-items:center;gap:12px">
              <div style="width:44px;height:44px;border-radius:18px;background:rgba(255,255,255,.18);display:grid;place-items:center;border:1px solid rgba(255,255,255,.22)">ü§ñ</div>
              <div>
                <div style="font-family:Orbitron,sans-serif;font-weight:900;letter-spacing:1px">APEX ADVISOR AI</div>
                <div class="hint" style="color:rgba(255,255,255,.85)">Online & ready to strategize</div>
              </div>
            </div>
            <div style="width:10px;height:10px;border-radius:99px;background:var(--green);box-shadow:0 0 0 6px rgba(22,199,132,.15)"></div>
          </div>

          <div style="padding:16px;min-height:140px;display:grid;place-items:center;color:rgba(234,242,255,.45)">
            Ask me about APT tokenomics, utility, roadmap‚Ä¶ (UI placeholder)
          </div>

          <div style="display:flex;gap:10px;padding:14px;border-top:1px solid rgba(120,160,255,.10);background:rgba(255,255,255,.02)">
            <input id="aiInput" placeholder="Type your question..." style="flex:1;border-radius:16px;border:1px solid rgba(120,160,255,.14);background:rgba(255,255,255,.03);color:var(--txt);padding:14px 14px;outline:none"/>
            <button class="btn primary" style="min-width:56px;padding:14px 12px" onclick="fakeAI()">‚ûú</button>
          </div>
        </div>
      </div>
    </section>

    <div class="glow-line"></div>

    <!-- Links / Community -->
    <section id="links">
      <div class="big-card">
        <div class="footer-grid">
          <div>
            <div style="font-family:Orbitron,sans-serif;letter-spacing:1px;font-weight:900;margin-bottom:12px">LINKS</div>
            <div class="footer-list">
              <a href="#links">Whitepaper</a>
              <a href="#tokenomics">Governance</a>
              <a href="#tokenomics">Audit</a>
              <a id="pancakeLink" href="#" target="_blank" rel="noreferrer">PancakeSwap</a>
            </div>
          </div>

          <div>
            <div style="font-family:Orbitron,sans-serif;letter-spacing:1px;font-weight:900;margin-bottom:12px">COMMUNITY</div>
            <div class="footer-list">
              <a href="#" onclick="toast('Coloque seu link do X/Twitter aqui')">Twitter (X)</a>
              <a href="#" onclick="toast('Coloque seu link do Telegram aqui')">Telegram</a>
              <a href="#" onclick="toast('Coloque seu link do Discord aqui')">Discord</a>
              <a href="#" onclick="toast('Coloque seu link do Medium aqui')">Medium</a>
            </div>
          </div>
        </div>

        <div class="copyright">
          ¬© <span id="year"></span> APEX GAMES TOKEN. ALL RIGHTS RESERVED. ‚Äî PRIVACY POLICY ‚Äî TERMS OF SERVICE
        </div>
      </div>
    </section>

    <div style="height:26px"></div>
  </div>

  <!-- Floating Dashboard Button -->
  <button class="float" onclick="openDash()" aria-label="Open dashboard">
    <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
      <path d="M7 9h10a4 4 0 0 1 0 8H7a4 4 0 0 1 0-8z" stroke="white" stroke-opacity=".9" stroke-width="2" />
      <path d="M9.2 12.5h2.2M10.3 11.4v2.2" stroke="white" stroke-opacity=".9" stroke-width="2" stroke-linecap="round"/>
      <path d="M16 12.2h.01M17.5 13.7h.01" stroke="white" stroke-opacity=".9" stroke-width="3" stroke-linecap="round"/>
    </svg>
  </button>

  <!-- Dashboard Modal -->
  <div class="dash-modal" id="dashModal" onclick="if(event.target.id==='dashModal') closeDash()">
    <div class="dash-panel">
      <div class="dash-head">
        <h2>HOLDER DASHBOARD</h2>
        <button class="xbtn" onclick="closeDash()">‚úï</button>
      </div>

      <div class="dash-grid">
        <!-- Left: Wallet / Reward -->
        <div class="big-card">
          <div style="font-family:Orbitron,sans-serif;letter-spacing:1px;font-weight:900;margin-bottom:10px">Wallet + Rewards</div>

          <div id="dashNotConnected">
            <button class="btn primary" style="width:100%" onclick="connectWallet()">CONNECT WALLET</button>
            <div class="status">Sem provider? Use TrustWallet/MetaMask/OKX no navegador.</div>
          </div>

          <div id="dashConnected" style="display:none">
            <div class="wallet-chip">
              <div class="avatar" id="avatar2"></div>
              <div class="wallet-meta">
                <b id="addrShort2">‚Äî</b>
                <span id="netName2">Network: ‚Äî</span>
              </div>
              <div class="drop">
                <button class="dropbtn" onclick="toggleDrop(event)">‚ãØ</button>
                <div class="dropmenu" id="dropmenu2">
                  <button onclick="disconnect()">Disconnect</button>
                </div>
              </div>
            </div>

            <div class="badges" id="badges2" style="margin-top:10px"></div>

            <div class="grid2">
              <div class="mini"><small>BNB</small><b id="bnbBal2">‚Äî</b></div>
              <div class="mini"><small>APEX</small><b id="apexBal2">‚Äî</b></div>
            </div>

            <div class="grid2">
              <div class="mini"><small>APEX/USDT</small><b id="apexPrice2">‚Äî</b></div>
              <div class="mini"><small>Reward Pool</small><b id="poolLeft2">‚Äî</b></div>
            </div>

            <div class="grid2">
              <div class="mini"><small>Next Claim</small><b id="countdown2">‚Äî</b></div>
              <div class="mini"><small>Streak</small><b><span id="streak2">0</span> days</b></div>
            </div>

            <div class="action-row">
              <button class="btn primary small" onclick="claimReward()">üî• CLAIM</button>
              <button class="btn small" onclick="refreshAll()">‚Üª REFRESH</button>
            </div>

            <div class="status" id="rewardStatus2">Status: pronto.</div>
          </div>
        </div>

        <!-- Right: Staking (UI pronta) -->
        <div class="big-card">
          <div style="font-family:Orbitron,sans-serif;letter-spacing:1px;font-weight:900;margin-bottom:10px">Staking (integrado)</div>
          <div class="hint">
            Aqui √© o painel de staking integrado no site. Para funcionar on-chain, precisamos do
            <b>endere√ßo do contrato de staking</b> + ABI (stake/unstake/claim/earned).
          </div>

          <div class="sep"></div>

          <div class="grid2">
            <div class="mini"><small>Staked</small><b id="stakedUi">0.00</b></div>
            <div class="mini"><small>Earned</small><b id="earnedUi">0.00</b></div>
          </div>

          <div class="grid2" style="margin-top:12px">
            <input id="stakeAmount" placeholder="Amount APEX" style="width:100%;border-radius:16px;border:1px solid rgba(120,160,255,.14);background:rgba(255,255,255,.03);color:var(--txt);padding:14px 14px;outline:none"/>
            <button class="btn small" onclick="toast('Staking: falta configurar contrato')">MAX</button>
          </div>

          <div class="action-row">
            <button class="btn small" onclick="toast('Staking: falta configurar contrato')">APPROVE</button>
            <button class="btn primary small" onclick="toast('Staking: falta configurar contrato')">STAKE</button>
          </div>

          <div class="action-row">
            <button class="btn small" onclick="toast('Staking: falta configurar contrato')">UNSTAKE</button>
            <button class="btn small" onclick="toast('Staking: falta configurar contrato')">CLAIM EARNED</button>
          </div>

          <div class="status">
            ‚úÖ Quando voc√™ me passar o contrato de staking, eu ligo tudo de verdade (approve, stake, unstake, earned).
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

<script type="module">
  import { ethers } from "https://cdn.jsdelivr.net/npm/ethers@6.14.0/+esm";

  // =========================
  // CONFIG (seus contratos)
  // =========================
  const TOKEN = "0xB3a78c3f55Fc653992169F77cb10878D2cF1684f";          // APEX Token
  const REWARD = "0xA293A267c35651dC770B91499bBFf3c5F136dFA5";         // Reward contract

  // PancakeSwap Router (BSC Mainnet)
  const PANCAKE_ROUTER = "0x10ED43C718714eb63d5aA57B78B54704E256024E";
  const WBNB = "0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c";
  const USDT = "0x55d398326f99059fF775485246999027B3197955";

  // Buy link direto PancakeSwap (token -> swap)
  const PANCAKE_BUY = `https://pancakeswap.finance/swap?outputCurrency=${TOKEN}`;

  // ABIs m√≠nimas
  const tokenABI = [
    "function balanceOf(address) view returns (uint256)",
    "function totalSupply() view returns (uint256)",
    "function decimals() view returns (uint8)"
  ];

  // Reward: pode ou n√£o ter lastClaim dependendo da vers√£o; tentamos ler e se falhar, faz fallback
  const rewardABI = [
    "function claim()",
    "function lastClaim(address) view returns (uint256)"
  ];

  // Pancake Router: getAmountsOut
  const routerABI = [
    "function getAmountsOut(uint amountIn, address[] calldata path) external view returns (uint[] memory amounts)"
  ];

  // =========================
  // STATE
  // =========================
  let provider, signer, addr;
  let tokenRead, tokenWrite, rewardWrite, routerRead;
  let tokenDecimals = 18;

  // =========================
  // UI helpers
  // =========================
  const el = (id)=>document.getElementById(id);
  const toastEl = el("toast");

  function toast(msg){
    toastEl.textContent = msg;
    toastEl.classList.add("show");
    clearTimeout(toastEl._t);
    toastEl._t = setTimeout(()=>toastEl.classList.remove("show"), 2200);
  }
  window.toast = toast;

  function shortAddr(a){
    return a ? (a.slice(0,6)+"..."+a.slice(-4)) : "‚Äî";
  }
  function setBadges(apexBalance){
    const badges = [];
    const hasApex = apexBalance > 0;

    if(hasApex) badges.push(`<span class="badge ok">HOLDER</span>`);
    if(apexBalance >= 100000) badges.push(`<span class="badge warn">WHALE</span>`);

    // Tier (mesma l√≥gica que voc√™ queria)
    let tier = "BRONZE";
    if(apexBalance >= 100000) tier = "WHALE";
    else if(apexBalance >= 10000) tier = "GOLD";
    else if(apexBalance >= 1000) tier = "SILVER";
    badges.push(`<span class="badge blue">TIER: ${tier}</span>`);

    el("badges").innerHTML = badges.join("");
    el("badges2").innerHTML = badges.join("");
  }

  function avatarColor(address){
    const hex = address.replace("0x","").slice(0,6);
    return `#${hex}`;
  }
  function paintAvatar(){
    const c = avatarColor(addr);
    el("avatar").style.background = c;
    el("avatar2").style.background = c;
  }

  function toggleDrawer(open){
    el("drawer").classList.toggle("open", !!open);
  }
  window.toggleDrawer = toggleDrawer;

  function toggleDrop(ev){
    ev?.stopPropagation?.();
    const m1 = el("dropmenu");
    const m2 = el("dropmenu2");
    const open = (m1.style.display === "block");
    m1.style.display = open ? "none" : "block";
    m2.style.display = open ? "none" : "block";
    document.addEventListener("click", ()=>{ m1.style.display="none"; m2.style.display="none"; }, {once:true});
  }
  window.toggleDrop = toggleDrop;

  function openDash(){ el("dashModal").classList.add("open"); }
  function closeDash(){ el("dashModal").classList.remove("open"); }
  window.openDash = openDash;
  window.closeDash = closeDash;

  function disconnect(){
    // ‚Äúdisconnect‚Äù universal no frontend (limpa state e recarrega)
    localStorage.removeItem("apex_last_claim_ts");
    toast("Disconnected");
    setTimeout(()=>location.reload(), 450);
  }
  window.disconnect = disconnect;

  // Copy contract
  window.copyToken = async function(){
    try{
      await navigator.clipboard.writeText(TOKEN);
      toast("Contract copied!");
    }catch{
      toast("Copy failed");
    }
  }

  // Advisor UI dummy
  window.fakeAI = function(){
    const v = el("aiInput").value.trim();
    if(!v) return toast("Type something...");
    el("aiInput").value = "";
    toast("Advisor: (UI) integrado ‚úÖ");
  }

  // =========================
  // Charts (fee + supply)
  // =========================
  let feeChart, supplyChart;

  function renderFeeChart(){
    const ctx = el("feeChart");
    feeChart?.destroy();
    feeChart = new Chart(ctx, {
      type:"doughnut",
      data:{
        labels:["Burn per Trans.", "Liquidity/Rewards", "Marketing Fee"],
        datasets:[{
          data:[0.99, 1.0, 0.5] // visual, ajuste se quiser
        }]
      },
      options:{
        plugins:{legend:{labels:{color:"rgba(234,242,255,.75)"}}},
        cutout:"72%"
      }
    });
  }

  function renderSupplyChart(totalSupply){
    const ctx = el("supplyChart");
    supplyChart?.destroy();
    // Visual: ‚Äúlaunch vs now‚Äù (igual vibe de gr√°fico simples)
    supplyChart = new Chart(ctx, {
      type:"line",
      data:{
        labels:["Launch","Now"],
        datasets:[{
          label:"Total Supply",
          data:[totalSupply, totalSupply],
          tension:.25,
          borderWidth:2
        }]
      },
      options:{
        plugins:{legend:{labels:{color:"rgba(234,242,255,.75)"}}},
        scales:{
          x:{ticks:{color:"rgba(234,242,255,.65)"}, grid:{color:"rgba(120,160,255,.08)"}},
          y:{ticks:{color:"rgba(234,242,255,.65)"}, grid:{color:"rgba(120,160,255,.08)"}}
        }
      }
    });
  }

  // =========================
  // Wallet + On-chain
  // =========================
  async function connectWallet(){
    if(!window.ethereum){
      toast("Sem carteira no navegador. Use TrustWallet/MetaMask/OKX.");
      return;
    }

    provider = new ethers.BrowserProvider(window.ethereum);
    await provider.send("eth_requestAccounts", []);
    signer = await provider.getSigner();
    addr = await signer.getAddress();

    tokenRead = new ethers.Contract(TOKEN, tokenABI, provider);
    tokenWrite = new ethers.Contract(TOKEN, tokenABI, signer);
    rewardWrite = new ethers.Contract(REWARD, rewardABI, signer);
    routerRead = new ethers.Contract(PANCAKE_ROUTER, routerABI, provider);

    // decimals
    try{ tokenDecimals = await tokenRead.decimals(); }catch{ tokenDecimals = 18; }

    // UI show
    el("walletNotConnected").style.display="none";
    el("walletConnected").style.display="block";
    el("dashNotConnected").style.display="none";
    el("dashConnected").style.display="block";

    paintAvatar();
    el("addrShort").textContent = shortAddr(addr);
    el("addrShort2").textContent = shortAddr(addr);

    // network
    const net = await provider.getNetwork();
    const netLabel = net?.chainId === 56n ? "BSC Mainnet" : (net?.chainId === 97n ? "BSC Testnet" : `Chain ${net?.chainId}`);
    el("netName").textContent = `Network: ${netLabel}`;
    el("netName2").textContent = `Network: ${netLabel}`;

    toast("Wallet connected ‚úÖ");
    await refreshAll();
  }
  window.connectWallet = connectWallet;

  async function refreshAll(){
    if(!provider || !addr) return;

    // balances
    const bnb = await provider.getBalance(addr);
    const bnbFmt = Number(ethers.formatEther(bnb)).toFixed(4);

    const apexRaw = await tokenRead.balanceOf(addr);
    const apexFmtNum = Number(ethers.formatUnits(apexRaw, tokenDecimals));
    const apexFmt = apexFmtNum.toFixed(2);

    el("bnbBal").textContent = bnbFmt;
    el("bnbBal2").textContent = bnbFmt;
    el("apexBal").textContent = apexFmt;
    el("apexBal2").textContent = apexFmt;

    setBadges(apexFmtNum);

    // pool
    const poolRaw = await tokenRead.balanceOf(REWARD);
    const poolNum = Number(ethers.formatUnits(poolRaw, tokenDecimals));
    const poolFmt = poolNum.toLocaleString(undefined, {maximumFractionDigits:2});

    el("poolLeft").textContent = poolFmt;
    el("poolLeft2").textContent = poolFmt;

    // price via Pancake router
    await loadPrice();

    // total supply
    const tsRaw = await tokenRead.totalSupply();
    const tsNum = Number(ethers.formatUnits(tsRaw, tokenDecimals));
    el("totalSupply").textContent = tsNum.toLocaleString(undefined, {maximumFractionDigits:0});

    // charts
    renderFeeChart();
    renderSupplyChart(tsNum);

    // countdown
    await startCountdown();

    // streak display
    updateStreakUI();

    // links
    el("btnBuy").href = PANCAKE_BUY;
    el("pancakeLink").href = PANCAKE_BUY;

    // contract display
    el("tokenAddrText").textContent = TOKEN;
  }
  window.refreshAll = refreshAll;

  async function loadPrice(){
    // Tentamos: 1 APEX -> USDT via path [APEX, WBNB, USDT]
    // Se n√£o houver liquidez, vai falhar -> mostramos ‚Äî
    try{
      const amountIn = ethers.parseUnits("1", tokenDecimals);
      const path = [TOKEN, WBNB, USDT];
      const out = await routerRead.getAmountsOut(amountIn, path);
      const usdtOut = Number(ethers.formatUnits(out[out.length-1], 18));
      const p = usdtOut.toFixed(6);

      el("apexPrice").textContent = p;
      el("apexPrice2").textContent = p;
    }catch(e){
      el("apexPrice").textContent = "‚Äî";
      el("apexPrice2").textContent = "‚Äî";
    }
  }

  // Countdown + lastClaim
  let countdownTimer = null;

  async function startCountdown(){
    // limpa timer anterior
    if(countdownTimer) clearInterval(countdownTimer);

    let last = 0;
    try{
      last = Number(await rewardWrite.lastClaim(addr));
    }catch{
      // se ABI n√£o tiver lastClaim, fallback local
      last = Number(localStorage.getItem("apex_last_claim_ts") || 0);
    }

    const cooldown = 24 * 60 * 60;
    const target = last + cooldown;

    const tick = ()=>{
      const now = Math.floor(Date.now()/1000);
      const diff = target - now;

      if(diff <= 0){
        el("countdown").textContent = "Ready!";
        el("countdown2").textContent = "Ready!";
        return;
      }
      const h = Math.floor(diff / 3600);
      const m = Math.floor((diff % 3600) / 60);
      const s = diff % 60;
      const txt = `${h}h ${m}m ${s}s`;
      el("countdown").textContent = txt;
      el("countdown2").textContent = txt;
    };

    tick();
    countdownTimer = setInterval(tick, 1000);
  }

  // Claim Reward (on-chain)
  async function claimReward(){
    if(!rewardWrite) return toast("Connect wallet first");
    el("rewardStatus").innerHTML = `Status: <strong>confirmando...</strong>`;
    el("rewardStatus2").innerHTML = `Status: <strong>confirmando...</strong>`;

    try{
      const tx = await rewardWrite.claim();
      el("rewardStatus").innerHTML = `Status: <strong>aguarde minera√ß√£o</strong>‚Ä¶`;
      el("rewardStatus2").innerHTML = `Status: <strong>aguarde minera√ß√£o</strong>‚Ä¶`;
      await tx.wait();

      // salva fallback de last claim pro streak (caso lastClaim falhe)
      const now = Math.floor(Date.now()/1000);
      localStorage.setItem("apex_last_claim_ts", String(now));

      // streak
      applyStreakOnClaim(now);

      el("rewardStatus").innerHTML = `Status: <strong>Reward claimed ‚úÖ</strong>`;
      el("rewardStatus2").innerHTML = `Status: <strong>Reward claimed ‚úÖ</strong>`;
      toast("Claim feito ‚úÖ");

      await refreshAll();
    }catch(err){
      el("rewardStatus").innerHTML = `Status: <strong>Wait 24h / pool / rede</strong>`;
      el("rewardStatus2").innerHTML = `Status: <strong>Wait 24h / pool / rede</strong>`;
      toast("Falhou: espere 24h ou verifique rede/pool");
    }
  }
  window.claimReward = claimReward;

  // Streak logic (visual, mas consistente)
  function applyStreakOnClaim(nowTs){
    const lastDay = Number(localStorage.getItem("apex_streak_last_day") || 0);
    const streak = Number(localStorage.getItem("apex_streak") || 0);

    const today = Math.floor(nowTs / 86400); // dias desde epoch

    let newStreak = streak;

    if(lastDay === 0){
      newStreak = 1;
    }else{
      const diffDays = today - lastDay;
      if(diffDays === 1) newStreak = streak + 1;    // sequ√™ncia
      else if(diffDays === 0) newStreak = streak;   // j√° contou hoje
      else newStreak = 1;                           // quebrou
    }

    localStorage.setItem("apex_streak", String(newStreak));
    localStorage.setItem("apex_streak_last_day", String(today));
    updateStreakUI();
  }

  function updateStreakUI(){
    const s = Number(localStorage.getItem("apex_streak") || 0);
    el("streak").textContent = String(s);
    el("streak2").textContent = String(s);
  }

  // =========================
  // Boot
  // =========================
  el("year").textContent = String(new Date().getFullYear());
  el("tokenAddrText").textContent = TOKEN;
  el("btnBuy").href = PANCAKE_BUY;
  el("pancakeLink").href = PANCAKE_BUY;

  // Fecha dropdown se clicar fora
  document.addEventListener("click", ()=>{
    const m1 = el("dropmenu"); const m2 = el("dropmenu2");
    if(m1) m1.style.display="none";
    if(m2) m2.style.display="none";
  });
</script>

</body>
</html>
